{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">

    <div class="card">
        <div class="card-body">
            <h4 class="card-title">{{ client.first_name }} {{ client.last_name }}</h4>
            <p class="card-text"><strong>Date of Birth:</strong> {{ client.date_of_birth }}</p>
            <p class="card-text"><strong>Gender:</strong> {{ client.gender }}</p>
            <p class="card-text"><strong>Address:</strong> {{ client.address }}</p>
            <p class="card-text"><strong>Contact Info:</strong> {{ client.contact_info }}</p>

            <hr>

            <h5>Enrolled Programs</h5>
            {% if enrolled_programs %}
                <ul class="list-group list-group-flush">
                    {% for enrollment in enrolled_programs %}
                        <li class="list-group-item">{{ enrollment.program.name }} (Enrolled on {{ enrollment.date_enrolled }})</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No enrolled programs.</p>
            {% endif %}
        </div>
    </div>

    <div class="mt-4 d-flex flex wrap gap-3">
      <a href="{% url 'client_list' %}" class="btn btn-secondary">Back to Client List</a>

      <a href="{% url 'edit_client' client.pk %}" class="btn btn-primary">Edit Client</a>

      <form method="POST" action="{% url 'delete_client' client.pk %}" onsubmit="return confirm('Are you sure you want to delete this client?');">
          {% csrf_token %}
          <button type="submit" class="btn btn-danger">Delete Client</button>
      </form>
  </div>
  <div class="mt-4 d-flex flex wrap gap-3">
    <a href="{% url 'enroll_client' client.id %}" class="btn btn-success mt-3">Enroll in Program</a>

  </div>

</div>
{% endblock %}
